---
import { formatDateShort } from "@/lib/utils"

import { work } from "@resume"
---

<section>
  <h3 class="font-roboto text-lg uppercase text-blue-500">Professional Experience</h3>
  <div class="flex flex-col gap-4">
    { work.map(({ city, country, endDate, highlights, name, position, startDate }) => {
      const startDateShort = formatDateShort(startDate)
      const endDateShort = endDate ? formatDateShort(endDate) : "Present"
      const location = city && country ? `${city}, ${country}` : "Remote"

      return (
        <article>
          <div class="grid grid-cols-2">
            <div>
              <p class="font-roboto"><strong>{ name }</strong></p>
              <p class="font-roboto"><strong>{ position }</strong></p>
            </div>
            <div class="text-right">
              <p class="font-roboto text-sm">{ location }</p>
              <p class="font-roboto text-sm text-slate-500">{`${startDateShort} - ${endDateShort}`}</p>
            </div>
          </div>
          <ul class="font-roboto ml-7 list-disc text-sm leading-4">
            { highlights?.map((highlight) => (
              <li>{ highlight }</li>
            )) }
          </ul>
        </article>
      )
    })}
  </div>
</section>
